<div class="instructor-container">
  <div *ngIf="error" class="error-container">
    <mat-icon color="warn">error</mat-icon>
    <p>{{ error }}</p>
  </div>

  <div *ngIf="instructorDetails; else loading">
    <mat-card class="profile-card">
      <div class="profile-header">
        <img [src]="instructorDetails.photoUrl || 'assets/default-instructor.jpg'" alt="Instructor Photo" class="profile-photo" />
        <div class="header-info">
          <h1 class="instructor-name">{{ instructorDetails.name || 'Unknown Instructor' }}</h1>
          <p class="instructor-email">{{ instructorDetails.email || 'No email provided' }}</p>
          <div class="social-links">
            <a *ngIf="instructorDetails.twitterUrl" [href]="instructorDetails.twitterUrl" target="_blank" mat-icon-button aria-label="Twitter profile">
              <mat-icon svgIcon="twitter"></mat-icon>
            </a>
            <a *ngIf="instructorDetails.githubUrl" [href]="instructorDetails.githubUrl" target="_blank" mat-icon-button aria-label="GitHub profile">
              <mat-icon svgIcon="github"></mat-icon>
            </a>
          </div>
        </div>
      </div>

      <mat-card-content>
        <h2 class="section-title">About Me</h2>
        <p class="section-content">{{ instructorDetails.aboutMe || 'No bio available.' }}</p>

        <h2 class="section-title">Qualifications</h2>
        <p class="section-content">{{ instructorDetails.qualifications || 'No qualifications listed.' }}</p>

        <h2 class="section-title">Experience</h2>
        <p class="section-content">{{ instructorDetails.experience ? instructorDetails.experience + ' years' : 'No experience listed.' }}</p>

        <h2 class="section-title">Courses</h2>
        <p class="section-content">{{ instructorDetails.courses || 'No courses listed.' }}</p>

        <h2 class="section-title">Statistics</h2>
        <div class="stats-container">
          <div class="stat-item">
            <mat-icon>star</mat-icon>
            <span>{{ averageRating ? (averageRating | number:'1.1-2') : 'N/A' }} Average Rating</span>
          </div>
          <div class="stat-item">
            <mat-icon>school</mat-icon>
            <span>{{ enrollmentCount || 0 }} Students Enrolled</span>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <ng-template #loading>
    <div class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Loading instructor details...</p>
    </div>
  </ng-template>
</div>